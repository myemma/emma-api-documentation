
<!doctype html>


<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

    <title>Emma API Documentation | Emma, Inc.</title>


    <link rel="stylesheet" href="../../_static/emma.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:    '../../',
            VERSION:     '0.1',
            COLLAPSE_INDEX: false,
            FILE_SUFFIX: '.html',
            HAS_SOURCE:  true
        };
    </script>

    <script src="http://code.jquery.com/jquery-1.4.min.js"></script>
    <script>window.jQuery || document.write('<script src="_static/jquery.js"><\/script>')</script>

    <script type="text/javascript" src="//use.typekit.net/zfm0nfo.js"></script>
    <script type="text/javascript">try{Typekit.load();}catch(e){}</script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <link rel="top" title="audience 0.1 documentation" href="../../index.html" />
    <link rel="next" title="Members" href="members.html" />
    <link rel="prev" title="Groups" href="groups.html" />
    <link rel="icon" href="http://myemma.com/static/global/favicons/favicon.ico?v=2" type="image/x-icon">
    <link rel="shortcut icon" href="http://myemma.com/static/global/favicons/favicon.ico?v=2" type="image/x-icon">
    <link rel="apple-touch-icon-precomposed" href="http://myemma.com/static/global/favicons/apple-iphone.png" />
    <link rel="apple-touch-icon-precomposed" sizes="72x72" href="http://myemma.com/static/global/favicons/apple-ipad.png" />
    <link rel="apple-touch-icon-precomposed" sizes="114x114" href="http://myemma.com/static/global/favicons/apple-iphone-2x.png" />
    <link rel="apple-touch-icon-precomposed" sizes="144x144" href="http://myemma.com/static/global/favicons/apple-ipad-2x.png" />

    <style type="text/css">
        .resp-trigger, .resp-trigger:hover {font-size:10pt;text-decoration:none;}
        div.sample-response.hide-response pre.response {display: none;}
        div.sample-response .tshow,
        div.sample-response.hide-response .thide {display: none;}
        div.sample-response .thide,
        div.sample-response.hide-response .tshow {display: inline;}
    </style>
    <script>
        $().ready(function() {
            $("a.resp-trigger").click(function(e) {
                e.preventDefault();
                $(this).parents("div.sample-response").toggleClass("hide-response");
            });
        });
    </script>

    <script type="text/javascript">

        var _gaq = _gaq || [];
        _gaq.push(['_setAccount', 'UA-512410-18']);
        _gaq.push(['_trackPageview']);

        (function() {
            var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
            ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
            var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
        })();

    </script>

</head>
<body>
<header role="banner">
    <a href="/index.html">
        <h1>Emma API Documentation</h1>
    </a>
</header>
<div class="related">
    <h3>Navigation</h3>
    <ul>
        <li class="right" style="margin-right: 10px">
            <a href="../../genindex.html" title="General Index"
               accesskey="I">index</a></li>
        <li class="right" >
            <a href="../../http-routingtable.html" title="HTTP Routing Table"
            >routing table</a> |</li>
        <li class="right" >
            <a href="members.html" title="Members"
               accesskey="N">next</a> |</li>
        <li class="right" >
            <a href="groups.html" title="Groups"
               accesskey="P">previous</a> |</li>
        <li><a href="../../index.html">audience 0.1 documentation</a> &raquo;</li>
    </ul>
</div>

<div class="document">
    <div class="documentwrapper">
        <div class="bodywrapper">
            <div class="body">

                <div class="section" id="event_api">
                    <h1>Emma Event API<a class="headerlink" href="#event_api" title="Permalink to this headline">¶</a></h1>
                    <p>Access to the Event API is available only to Emma Plus, Premium and Enterprise customers.</p>
                    <p>The Emma Event API is used to automate and personalize emails that are triggered by audience activities in other platforms. While it is often used to power automated workflows triggered by activities like purchases and event registration and attendance, the Event API can receive events and data of any type from any service.</p>
                    <p>You can post events to Emma using the endpoint below. Workflows that are triggered by events shared to this endpoint can be configured in the Automation workflow builder (link). For more information about the event API and its capabilities, visit our Resource Center (link).</p>
                    <dl class="post">
                        <dt id="post--#events">
                            <tt class="descname">POST </tt><tt class="descname">/#account_id/events</tt><a class="headerlink" href="#post--#events" title="Permalink to this definition">¶</a></dt>
                        <dd><p>This endpoint allows you to post any type of valid JSON to Emma. In order for an event to power an automated workflow, the following conditions must be met:
                            <li>Must include a valid email address as a value (preferably in a clearly designated “email” field)</li>
                            <li>Email address must belong to a contact who is currently in “Active” status within your audience</li>
                            <li>Automated workflow must be configured to match key/value pairs contained within JSON post (more information here (link)).</li>
                            <li>JSON payload must not exceed (TK)MB</li>
                            </p>
                            <!-- <table class="docutils field-list" frame="void" rules="none">
                                <col class="field-name" />
                                <col class="field-body" />
                                <tbody valign="top">
                                <tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
                                    <li><strong>include_archived</strong> (<em>boolean</em>) &#8211; Optional flag to include archived mailings in the list.</li>
                                    <li><strong>mailing_types</strong> (<em>string</em>) &#8211; Accepts a comma-separated string with one or more
                                        of the following mailing types: &#8216;m&#8217; (standard), &#8216;t&#8217; (test),
                                        &#8216;r&#8217; (trigger), &#8216;s&#8217; (split). Defaults to &#8216;m,t&#8217;, standard and test mailings,
                                        when none are specified.</li>
                                    <li><strong>mailing_statuses</strong> (<em>string</em>) &#8211; Accepts a comma-separated string with one or
                                        more of the following mailing statuses: &#8216;p&#8217; (pending), &#8216;a&#8217; (paused),
                                        &#8216;s&#8217; (sending), &#8216;x&#8217; (canceled), &#8216;c&#8217; (complete), &#8216;f&#8217; (failed).
                                        Defaults to &#8216;p,a,s,x,c,f&#8217;, all statuses, when none are specified.</li>
                                    <li><strong>is_scheduled</strong> (<em>boolean</em>) &#8211; Mailings that have a scheduled timestamp.</li>
                                    <li><strong>with_html_body</strong> (<em>boolean</em>) &#8211; Include the html_body content.</li>
                                    <li><strong>with_plaintext</strong> (<em>boolean</em>) &#8211; Include the plaintext content.</li>
                                </ul>
                                </td>
                                </tr>
                                <tr class="field-even field"><th class="field-name">Raises :</th><td class="field-body"><p class="first"><tt class="docutils literal"><span class="pre">Http400</span></tt> if invalid mailing types or statuses are specified.</p>
                                </td>
                                </tr>
                                <tr class="field-odd field"><th class="field-name">Returns :</th><td class="field-body"><p class="first last">An array of mailings.</p>
                                </td>
                                </tr>
                                </tbody>
                            </table> -->
                            <p>
                            <div class="sample-response hide-response">
                                <span style="font-weight:bold;">Sample Request</span>
                                <a href="#" class="resp-trigger">[<span class="tshow">show</span><span class="thide">hide</span>]</a>
<pre class="response">
<b>POST /100/events</b>

{
  “event_name”: “order-completed”
    "id": 1028374857,
    "email": “cody.devos@myemma.com”,
    "closed_at": null,
    "created_at": "2016-04-12T11:00:00-09:00",
"total_price": “145.53”,
      "total_discounts": “14.70",
      "order_number": 1001,
    "discount_codes": [
      {
        "code": “TEN16”,
        "amount": “10.00",
        "type": "percentage"
      }
    ],
   "line_items": [
      {
        "id": 998327818,
        "variant_id": 59284621,
        "title": “Slim Short Sleeve Linen Shirt”,
        "quantity": 1,
        "price": “68.00",
        "sku": “SLSSLNSHRT”,
        "variant_title": “white”,
        “size”: medium,
        "product_id": 632910392,
        "requires_shipping": true,
        "taxable": true,
        "gift_card": false,
        "name": “Slim Short Sleeve Linen Shirt - White“,
                ],
        "tax_lines": [
          {
            "title": "State Tax",
            "price": “6.12”,
            "rate": 0.09
          }
{
        "id": 789327523,
        "variant_id": 89137513,
        "title": “Slim Mens Chino”,
        "quantity": 1,
        "price": “79.00",
        "sku": “SLMNCHNO”,
        "variant_title": “green”,
        “size”: 32W32L,
        "product_id": 948517351,
        "requires_shipping": true,
        "taxable": true,
        "gift_card": false,
        "name": “Slim Short Sleeve Linen Shirt - White“,
                ],
        "tax_lines": [
          {
            "title": "State Tax",
            "price": “7.11”,
            "rate": 0.09
          }
        ]
      },
  "shipping_lines": [
      {
        "id": 0928273492,
        "title": "Free Shipping",
        "price": "0.00",
        "code": "Free Shipping",
        "source": "shopify",
        "phone": null,
        "carrier_identifier": null,
        "tax_lines": [
        ]
      }
    ],

</pre>
                            </div>
                            </p>
                            <p>
                            <div class="sample-response hide-response">
                                <span style="font-weight:bold;">Sample Response</span>
                                <a href="#" class="resp-trigger">[<span class="tshow">show</span><span class="thide">hide</span>]</a>
<pre class="response">
<b>COMING SOON</b>
</pre>
                            </div>
                            </p>
                        </dd></dl>

                </div>


            </div>
        </div>
    </div>
    <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper"><h3>Related Topics</h3>
            <ul>
                <li><a href="../../index.html">Documentation overview</a><ul>
                    <li>Previous: <a href="groups.html" title="previous chapter">Groups</a></li>
                    <li>Next: <a href="members.html" title="next chapter">Members</a></li>
                </ul></li>
            </ul>
            <div id="searchbox" style="display: none">
                <h3>Quick search</h3>
                <form class="search" action="../../search.html" method="get">
                    <input type="text" name="q" />
                    <input type="submit" value="Go" />
                    <input type="hidden" name="check_keywords" value="yes" />
                    <input type="hidden" name="area" value="default" />
                </form>
                <p class="searchtip" style="font-size: 90%">
                    Enter search terms or a module, class or function name.
                </p>
            </div>
            <script type="text/javascript">$('#searchbox').show(0);</script>
            <div id="emma-links">
                <h3>Emma Links</h3>
                <ul>
                    <li><a href="http://myemma.com" title="Visit Emma's homepage" target="_blank">Emma Home</a></li>

                    <li><a href="http://myemma.com/blog" title="Visit the Emma Blog" target="_blank">Emma Blog</a></li>
                    <li><a href="http://myemma.com/help" title="Visit Emma's help guide" target="_blank">Emma Help</a></li>
                </ul>
            </div>

            <div id="inquiry">
                <h3>Interested in Emma?</h3>
                <p>Emma's email marketing makes communicating simple and stylish. <a href="http://myemma.com/get-started/inquire" title="Get started today.">Get started today</a>.</p>
            </div>
        </div>
    </div>
    <div class="clearer"></div>
</div>
<div class="footer">
    &copy; Copyright 2003-<script language="JavaScript" type="text/javascript">
    now = new Date
    theYear=now.getYear()
    if (theYear < 1900)
        theYear=theYear+1900
    document.write(theYear)
</script>, Emma.
</div>
</body>
</html>

<!doctype html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

    <title>Emma API Documentation | Emma, Inc.</title>


    <link rel="stylesheet" href="../../_static/emma.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />

    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '0.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>

    <script src="https://code.jquery.com/jquery-1.4.min.js"></script>
    <script>window.jQuery || document.write('<script src="_static/jquery.js"><\/script>')</script>

    <link href="https://fonts.googleapis.com/css?family=Roboto:400,700" rel="stylesheet">
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <link rel="top" title="audience 0.1 documentation" href="../../index.html" />
    <link rel="next" title="Fields" href="fields.html" />
    <link rel="prev" title="Automation" href="automation.html" />
    <link rel="icon" href="https://myemma.com/static/global/favicons/favicon.ico?v=2" type="image/x-icon">
    <link rel="shortcut icon" href="https://myemma.com/static/global/favicons/favicon.ico?v=2" type="image/x-icon">
    <link rel="apple-touch-icon-precomposed" href="https://myemma.com/static/global/favicons/apple-iphone.png" />
    <link rel="apple-touch-icon-precomposed" sizes="72x72" href="https://myemma.com/static/global/favicons/apple-ipad.png" />
    <link rel="apple-touch-icon-precomposed" sizes="114x114" href="https://myemma.com/static/global/favicons/apple-iphone-2x.png" />
    <link rel="apple-touch-icon-precomposed" sizes="144x144" href="https://myemma.com/static/global/favicons/apple-ipad-2x.png" />

    <style type="text/css">
      .resp-trigger, .resp-trigger:hover {font-size:10pt;text-decoration:none;}
      div.sample-response.hide-response pre.response {display: none;}
      div.sample-response .tshow,
      div.sample-response.hide-response .thide {display: none;}
      div.sample-response .thide,
      div.sample-response.hide-response .tshow {display: inline;}
    </style>
    <script>
      $().ready(function() {
        $("a.resp-trigger").click(function(e) {
          e.preventDefault();
          $(this).parents("div.sample-response").toggleClass("hide-response");
        });
      });
    </script>

    <script type="text/javascript">

      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-512410-18']);
      _gaq.push(['_trackPageview']);

      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();

    </script>

  </head>
  <body>
  <header role="banner">
    <a href="/index.html">
      <h1>Emma API Documentation</h1>
    </a>
  </header>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../http-routingtable.html" title="HTTP Routing Table"
             >routing table</a> |</li>
        <li class="right" >
          <a href="response.html" title="Response"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="members.html" title="Members"
             accesskey="P">previous</a> |</li>
        <li><a href="../../index.html">audience 0.1 documentation</a> &raquo;</li>
      </ul>
    </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">

  <div class="section" id="response_exports">
<h1>Response Exports<a class="headerlink" href="#response_exports" title="Permalink to this headline">&para;</a></h1>
<p>These endpoints allow you to create and interact with exports of response data in your account. Please note that these endpoints only provide information about response exports created using this API and will not return information or files related to response exports generated via Emma's UI.</p>
<dl class="post">
<dt id="post--#account_id-response_exports">
<tt class="descname">POST </tt><tt class="descname">/#account_id/exports/response</tt><a class="headerlink" href="#post--#account_id-exports-response" title="Permalink to this definition">&para;</a></dt>
<dd><p>Create a response export. If no criteria is specified, the export created will contain response data for all mailings in the account from the last 30 days.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Supported criteria:</th><td class="field-body"><ul class="first simple">
<li><strong>include_fields</strong> (<em>boolean, list of strings</em>) &#8211; <strong>Defaults to false.</strong> If 'true', export will include all member fields in the account. If list of strings, export will include all member fields by 'shortcut_name' that exist in the account.</li>
<li><strong>mailing_ids</strong> (<em>array of integers</em>) - <strong>Defaults to empty list.</strong> If no 'mailing_ids' are specified, the last 50 mailings ordered by 'send_started' (most recently sent mailings) will be included in the export. The maximum number of 'mailing_ids' supported is 50.</li>
<li><strong>from_date</strong> (<em>datetime</em>) - <strong>Defaults to none.</strong> Response data exported will be limited to data gathered from the date specified, and is limited to no farther back than the previous 18 months. If paired with `to_date`, the export will be rejected if the time period is greater than 90 days.</li>
<li><strong>to_date</strong> (<em>datetime</em>) - <strong>Defaults to none.</strong> Limits the response data exported up to the specified date. If paired with `from_date`, the export will be rejected if the time period is greater than 90 days.</li>
</ul>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"> An export ID. </p>
</td>
</tr>
</tbody>
</table>
<p>
<div class="sample-response hide-response">
<span style="font-weight:bold;">Sample Response</span>
<a href="#" class="resp-trigger">[<span class="tshow">show</span><span class="thide">hide</span>]</a>
<pre class="response">
<b>POST /100/exports/response</b>

{
    "criteria:" : {
        "mailing_ids": [12345],
        "from_date": 2021-01-10T00:00:00+00:00,
        "to_date": 2021-01-17T00:00:00+00:00
    }

}

{
	"export_id: 123456"
	
}
</pre>
</div>
</p>
</dd></dl>

<dl class="get">
<dt id="get--#account_id-exports-#export_id">
<tt class="descname">GET </tt><tt class="descname">/#account_id/exports/#export_id</tt><a class="headerlink" href="#get--#account_id-exports-#export_id" title="Permalink to this definition">&para;</a></dt>
<dd><p>Get detailed information for a specific export.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">Information about an export. Status: "o" for OK, "e" for error, "q" for queued, "p" for in progress.</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><tt class="docutils literal"><span class="pre">Http404</span></tt> if no export with the specified ID is found.</td>
</tr>
</tbody>
</table>
<p>
<div class="sample-response hide-response">
<span style="font-weight:bold;">Sample Response</span>
<a href="#" class="resp-trigger">[<span class="tshow">show</span><span class="thide">hide</span>]</a>
<pre class="response">
<b>GET /100/exports/200</b>

{
    "account_id": 100,
    "completed_at": "2019-09-06T19:34:30.962114+00:00",
    "created_at": "2019-09-06T19:34:30.628190+00:00",
    "criteria": {
        "groups": [
            1234
        ],
        "include_fields": true,
        "member_ids": null,
        "member_status_ids": [
            "a",
            "o",
            "e"
        ],
        "mfv_delimiter": ",",
        "segments": null,
        "subscriptions": null
    },
    "export_id": 200,
    "export_name": "Product Release News",
    "export_type": "a",
    "status": "o",
    "user_id": "name@myemma.com"
}
</pre>
</div>
</p>
</dd></dl>

<dl class="get">
<dt id="get--#account_id-exports-#export_id-download">
<tt class="descname">GET </tt><tt class="descname">/#account_id/exports/#export_id/download</tt><a class="headerlink" href="#get--#account_id-exports-#export_id-download" title="Permalink to this definition">&para;</a></dt>
<dd><p>Get a CSV for the requested export.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">A file stream of the export document. If the export_type is 'a' (audience), download results in CSV form. If the export_type is 'm' (individual member), download results as a zip file.</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><tt class="docutils literal"><span class="pre">Http404</span></tt> if no export with the specified ID is found.</td>
</tr>
</tbody>
</table>
<p>
<div class="sample-response hide-response">
<span style="font-weight:bold;">Sample Response</span>
<a href="#" class="resp-trigger">[<span class="tshow">show</span><span class="thide">hide</span>]</a>
<pre class="response">
<b>GET /100/exports/200/download</b>

email,member_id,member_since,plaintext_preferred,bounce_count,status_name,last_modified_at,status-name,last_name,custom-field-name
email@email.com,123456789,2016-10-28T15:05:52 UTC,f,0,active,2019-05-07T20:44:21 UTC,,Last_name,,,2.0,37210,,,,b,,,,,,,,,,,,,
email1@email.com,234567890,2019-05-02T17:47:11 UTC,f,0,active,2019-05-02T17:47:11 UTC,,Member,,,,,,,,,

</pre>
</div>
</p>
</dd></dl>

<dl class="post">
<dt id="post--#account_id-exports">
<tt class="descname">POST </tt><tt class="descname">/#account_id/exports</tt><a class="headerlink" href="#post--#account_id-exports" title="Permalink to this definition">&para;</a></dt>
<dd><p>Creates an export of members.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>user_id</strong> (<em>string</em>) &#8211; Required.</li>
<li><strong>criteria</strong> (<em>dictionary</em>) &#8211; Describes what should be exported.
    <ul class="first simple">
        <li><strong>groups</strong> (<em>array of integers</em>) &#8211; List of group IDs</li>
        <li><strong>segments</strong> (<em>array of integers</em>) &#8211; List of segment IDs</li>
        <li><strong>member_ids</strong> (<em>array of integers</em>) &#8211; List of member IDs</li>
        <br />
        <p>The list of members to be exported will be a union of the members included
          in each provided group and segment, and the list of member_ids</p>
        <br />
        <li><strong>member_status_ids</strong> (<em>array of strings</em>) &#8211; Status of the members</li>
        <li><strong>include_fields</strong> &#8211; Accepts True or an array of strings. Optional flag to include all member fields or a list of member fields.</li>
      </ul>

</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">An export ID.</p>
</td>
</tr>
</tbody>
</table>
<p>
    <div class="sample-response hide-response">
    <span style="font-weight:bold;">Sample Response</span>
    <a href="#" class="resp-trigger">[<span class="tshow">show</span><span class="thide">hide</span>]</a>
    <pre class="response">
    <b>POST /100/exports</b>
    {
        "user_id": "name@myemma.com",
        "criteria": {
            "groups": [12345, 67890],
            "member_status_ids": ["a"],
            "include_fields": true
        }
    }
    
    {
      "export_id": 1234
    }
    </pre>
    </div>
    </p>
</dd></dl>

<dl class="post">
    <dt id="post--#account_id-exports-#members-#member_id">
    <tt class="descname">POST </tt><tt class="descname">/#account_id/exports/#members/member_id</tt><a class="headerlink" href="#post--#account_id-exports-#members-#member_id" title="Permalink to this definition">&para;</a></dt>
    <dd><p>Create an export of all information for an individual member. This will provide compliance with GDPR right to data portability.</p>
    <table class="docutils field-list" frame="void" rules="none">
    <col class="field-name" />
    <col class="field-body" />
    <tbody valign="top">
    <tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">An export ID.</td>
    </tr>
    </tbody>
    </table>
    </dd></dl>
</div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper"><h3>Related Topics</h3>
<ul>
  <li><a href="../../index.html">Documentation overview</a><ul>
      <li>Previous: <a href="automation.html" title="previous chapter">Automation</a></li>
      <li>Next: <a href="fields.html" title="next chapter">Fields</a></li>
  </ul></li>
</ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
<div id="emma-links">
  <h3>Emma Links</h3>
  <ul>
    <li><a href="https://myemma.com" title="Visit Emma's homepage" target="_blank">Emma Home</a></li>

    <li><a href="https://myemma.com/blog" title="Visit the Emma Blog" target="_blank">Emma Blog</a></li>
    <li><a href="https://myemma.com/help" title="Visit Emma's help guide" target="_blank">Emma Help</a></li>
  </ul>
</div>

<div id="inquiry">
  <h3>Interested in Emma?</h3>
  <p>Emma's email marketing makes communicating simple and stylish. <a href="https://myemma.com/get-started/inquire" title="Get started today.">Get started today</a>.</p>
</div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy; Copyright 2003-<script language="JavaScript" type="text/javascript">
          now = new Date
          theYear=now.getYear()
          if (theYear < 1900)
          theYear=theYear+1900
          document.write(theYear)
      </script>, Campaign Monitor
    </div>
  </body>
</html>
